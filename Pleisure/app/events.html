<!DOCTYPE html>
<html lang="en">
	<head>

		<title>Events</title>

		@{html.header}

	</head>

	<body>

		<!-- Navbar -->
		@{html.navbar}
		<!-- /Navbar -->

		<!-- Main Content -->
		<div id="main_content" class="container">
			<div class="row">
				<!-- Filter Sidebar -->
				<div class="visible-xs">
					<div class="container">
						<button id="filters-button" class="btn btn-primary navbar-btn" data-toggle="collapse" data-target="#filter-sidebar">
							<i class="fa fa-sliders"></i>							
						</button>
					</div>
				</div>

				<div id="filter-sidebar" class="col-xs-12 col-sm-3 visible-sm visible-md visible-lg collapse sliding-sidebar" >
					<h3>Filters</h3>

					<div>
						<h4 data-toggle="collapse" data-target="#group-1">
							<i class="fa fa-fw fa-caret-down parent-expanded"></i>
							<i class="fa fa-fw fa-caret-right parent-collapsed"></i>
							Location
						</h4>
						<div id="group-1" class="list-group collapse in">
							<div class="input-group">
								<span class="input-group-addon fa fa-map-marker"></span>
								<input type="text" class="form-control" placeholder="Search...">
							</div>
						</div>
					</div>
		
					<div>
						<h4 data-toggle="collapse" data-target="#group-2">
							<i class="fa fa-fw fa-caret-down parent-expanded"></i>
							<i class="fa fa-fw fa-caret-right parent-collapsed"></i>
							Price Range
						</h4>
						<div id="group-2" class="list-group collapse in" data-role="rangeslider">
							<span>
								<label for="price-max">Maximum Price:</label>
								<label id="price-slider-value"></label>
							</span>
							<input class="my-slider" type="range" name="price-max" id="price-max" value="1000" min="0" max="1000">
						</div>
					</div>
		
					<div>
						<h4 data-toggle="collapse" data-target="#group-3">
							<i class="fa fa-fw fa-caret-down parent-expanded"></i>
							<i class="fa fa-fw fa-caret-right parent-collapsed"></i>
							Age Range
						</h4>
						<!-- add selects -->
					</div>
		
					<div>
						<h4 data-toggle="collapse" data-target="#group-4">
							<i class="fa fa-fw fa-caret-down parent-expanded"></i>
							<i class="fa fa-fw fa-caret-right parent-collapsed"></i>
							Category
						</h4>
						<div id="group-4" class="list-group collapse in">
							<select id="category-selector" class="form-control">
								<option value="all">All</option>								
								<option value="sports">Sports</option>
								<option value="playground">Playground</option>
								<option value="party">Party</option>
								<option value="excursion">Excursion</option>
								<option value="outdoor">Outdoor</option>
								<option value="inquisition">Spanish Inquisition</option>
							</select>
						</div>
					</div>

					<div>
						<h4 data-toggle="collapse" data-target="#group-5">
							<i class="fa fa-fw fa-caret-down parent-expanded"></i>
							<i class="fa fa-fw fa-caret-right parent-collapsed"></i>
							Recurring
						</h4>
						<form id="group-5" class="list-group collapse in">
							<div class="radio">
								<label><input id="optionsRadios1" name="optradio" type="radio" checked="">Yes</label>
							</div>
							<div class="radio">
								<label><input id="optionsRadios2" name="optradio" type="radio" checked="">No</label>
							</div>
							<div class="radio">
								<label><input id="optionsRadios3" name="optradio" type="radio" checked="">Display All</label>
							</div>
						</form>
					</div>

					<div>
						<input type="submit" class="btn btn-primary btn-block" value="Filter" />
					</div>
				</div> 
				<!-- Filter Sidebar -->
		
				<!-- EventsView -->
				<div class="col-sm-9">
					<h3>Nearby Events for your Children! (@{x_results}?)</h3>

					<!-- Tabs -->
					<ul class="nav nav-tabs">
						<li class="active">
							<a href="#listview" data-toggle="tab" aria-expanded="false">List View</a>
						</li>
						<li>
							<a href="#mapview" data-toggle="tab" aria-expanded="true">Map View</a>
						</li>
					</ul>
					<div id="myTabContent" class="tab-content">

						<!-- Items ListView -->
						<div class="tab-pane fade active in" id="listview">

							<div class="panel panel-primary event-item">
								<div class="panel-heading">
									<h3 class="panel-title"><strong>Event Tilel</strong></h3>
								</div>
								<div class="panel-body">
									<div class="media">
										<div class="media-left">
											<img src="http://lorempixel.com/200/200/" class="media-object" style="width:130px">
										</div>
										<div class="media-body">
											<h4 class="media-heading">Description:</h4>
											<p>
												 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean non euismod ligula, sed tristique lacus. Donec vel nibh
												id quam tempus pharetra non eu quam. Curabitur euismod velit a ligula feugiat dictum. Etiam malesuada, odio sit amet rhoncus
												pretium, orci ligula lacinia eros, non hendrerit metus neque eget orci. Curabitur eget imperdiet risus, nec pulvinar arcu.
												Ut odio leo, tempus a pulvinar sed, dignissim vitae odio.
											</p>
											<p>
												<b>Date:</b>&nbsp;Day Month, time, recurrence
											</p>
											<p>
												<b>Address:</b>&nbsp;Street 20, Area 12345, City
											</p>
											<p>
												<b>Price:&nbsp;45</b>&nbsp;<span class="fa fa-money"></span>
											</p>
										</div>
									</div>
								</div>
							</div>

							<div class="panel panel-primary event-item">
								<div class="panel-heading">
									<h3 class="panel-title">
										<strong>Event Tilel</strong>
									</h3>
								</div>
								<div class="panel-body">
									<div class="media">
										<div class="media-left">
											<img src="http://lorempixel.com/200/200/" class="media-object" style="width:130px">
										</div>
										<div class="media-body">
											<h4 class="media-heading">Description:</h4>
											<p>
												Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean non euismod ligula, sed tristique lacus. Donec vel nibh id
												quam tempus pharetra non eu quam. Curabitur euismod velit a ligula feugiat dictum. Etiam malesuada, odio sit amet rhoncus
												pretium, orci ligula lacinia eros, non hendrerit metus neque eget orci. Curabitur eget imperdiet risus, nec pulvinar
												arcu. Ut odio leo, tempus a pulvinar sed, dignissim vitae odio.
											</p>
											<p>
												<b>Date:</b>&nbsp;Day Month, time, recurrence
											</p>
											<p>
												<b>Address:</b>&nbsp;Street 20, Area 12345, City
											</p>
											<p>
												<b>Price:&nbsp;45</b>&nbsp;
												<span class="fa fa-money"></span>
											</p>
										</div>
									</div>
								</div>
							</div>

							<div class="panel panel-primary event-item">
								<div class="panel-heading">
									<h3 class="panel-title">
										<strong>Event Tilel</strong>
									</h3>
								</div>
								<div class="panel-body">
									<div class="media">
										<div class="media-left">
											<img src="http://lorempixel.com/200/200/" class="media-object" style="width:130px">
										</div>
										<div class="media-body">
											<h4 class="media-heading">Description:</h4>
											<p>
												Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean non euismod ligula, sed tristique lacus. Donec vel nibh id
												quam tempus pharetra non eu quam. Curabitur euismod velit a ligula feugiat dictum. Etiam malesuada, odio sit amet rhoncus
												pretium, orci ligula lacinia eros, non hendrerit metus neque eget orci. Curabitur eget imperdiet risus, nec pulvinar
												arcu. Ut odio leo, tempus a pulvinar sed, dignissim vitae odio.
											</p>
											<p>
												<b>Date:</b>&nbsp;Day Month, time, recurrence
											</p>
											<p>
												<b>Address:</b>&nbsp;Street 20, Area 12345, City
											</p>
											<p>
												<b>Price:&nbsp;45</b>&nbsp;
												<span class="fa fa-money"></span>
											</p>
										</div>
									</div>
								</div>
							</div>

							<!-- Pagination -->
							<div class="container-fluid">
								<div class="row">
									<div class="col-md-12">
										<ul class="pagination">
											<li>
												<a href="#">Prev</a>
											</li>
											<li class="active">
												<a id="takis" href="#">1</a>
											</li>
											<li>
												<a href="#">2</a>
											</li>
											<li>
												<a href="#">3</a>
											</li>
											<li>
												<a href="#">4</a>
											</li>
											<li>
												<a href="#">5</a>
											</li>
											<li>
												<a href="#">Next</a>
											</li>
										</ul>
									</div>
								</div>
							</div><!-- /Pagination -->
							
						</div><!-- /Items ListView -->
						
						<!-- MapView -->
						<div class="tab-pane fade" id="mapview">
							<p>TODO</p>
						</div><!-- MapView -->

					</div><!-- /Tabs -->
		
				</div><!-- /EventsView -->
		
			</div>
		</div><!-- /Main Content -->

		@{html.footer}

		<script>

			function eventListItem(event)
			{
				return $("<div class='panel panel-primary event-item'>")
					.append(
						$("<div class='panel-heading clickable'>").append(
							$("<h3 class='panel-title'>").append(
								$("<strong>").html(event.title)
							)
						)
					).append(
						$("<div class='panel-body'>").append(
							$("<div class='media'>").append(
								$("<div class='media-left'>").append(
									$("<img class='media-object event-thumbnail'>").attr('src', event.thumbnail)
								)
							).append(
								$("<div class='media-body'>").append(
									$("<p>").html(event.description)
								).append(
									$("<p>").append("<b>Address:</b>&nbsp;").append(event.address)
								).append(
									$("<p>").append("<b>Price:</b>&nbsp;").append(event.price).append("&nbsp;").append("<i class='fa fa-money'>")
								)
							)
						)
					);
			}



			$(document).ready(function()
			{
				$.get({
					url: 'api/events',
					success: function(resp, satus, xhr)
					{
						$('#listview').empty();

						for (var i = 0; i < resp.length; i++)
						{
							$('#listview').append(
								eventListItem(resp[i])
							);
						}
					}
				})

			});
		</script>

	</body>
</html>